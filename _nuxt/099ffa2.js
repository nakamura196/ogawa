(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{426:function(t,e,n){var content=n(439);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("1031e6cc",content,!0,{sourceMap:!1})},438:function(t,e,n){"use strict";n(426)},439:function(t,e,n){var r=n(21)(!1);r.push([t.i,"#mynetwork{border:1px solid #d3d3d3}",""]),t.exports=r},487:function(t,e,n){"use strict";n.r(e);n(32),n(18),n(23),n(43),n(31),n(5),n(38),n(45),n(33);var r=n(16),o=(n(61),n(37),n(53),n(25),n(26),n(54),n(420));function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){d=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var d="https://dydra.com/junjun7613/romanfactoid_v2/sparql",f="https://dydra.com/junjun7613/hutimeperiod/sparql";function h(t){var e=t.split("/");return e[e.length-1]}function v(t,e,n,r){var o=["s","o"];console.log({data4Fact:n});var l,d=c(n);try{for(d.s();!(l=d.n()).done;){var f,v=l.value,w=c(o);try{for(w.s();!(f=w.n()).done;){var m=f.value,j=v[m];console.log({obj:v});var label=h(j);if(!r[j]){var x=200*t.length,O={id:j,label:label,x:x,y:0,physics:!1,shape:"box",color:"#F44336",in:[],out:[]};t.push(O),y(t,e,v,m,r,x),r[j]=O}}}catch(t){w.e(t)}finally{w.f()}var S=v.s,_=v.o;e.push({from:S,to:_,arrows:{to:{enabled:!0}}});var C=r[S].out;C.includes(_)||C.push(_);var k=r[_].in;k.includes(S)||k.push(S)}}catch(t){d.e(t)}finally{d.f()}}function y(t,e,n,r,o,c){if(n["when_"+r]){var l=n["when_"+r],d=n["when_"+r+"_begin"];if(!o[l]){var f={id:l,label:d,x:c,y:-100,physics:!1,shape:"box",color:"#4CAF50"};t.push(f),o[l]=f}e.push({from:n[r],to:l,arrows:{to:{enabled:!0}}})}}function w(t,e,n,r){var o,l={},d=c(n);try{for(d.s();!(o=d.n()).done;){var f=o.value,v=f.since,y=f.until;if(r[v]&&r[y]){var w=f.p,label=h(w),m=r[v],j=r[y],x=(m.x+j.x)/2;l[x]||(l[x]=[]);var O={id:w,label:label,x:x,y:100*(l[x].length+1),physics:!1,shape:"box",color:label.includes("pers")?"#2196F3":"#9C27B0"};l[x].push(O),t.push(O),e.push({from:w,to:v,arrows:{to:{enabled:!0}}}),e.push({from:w,to:y,arrows:{to:{enabled:!0}}})}}}catch(t){d.e(t)}finally{d.f()}}function m(t){var e={};for(var n in t){var r=t[n];if(r.in&&r.out){var o,l=c(r.in);try{for(l.s();!(o=l.n()).done;){var d,f=o.value,h=c(r.out);try{for(h.s();!(d=h.n()).done;){var v=f+" - "+d.value;e[v]||(e[v]=[]),r.y-=30*e[v].length,e[v].push(n)}}catch(t){h.e(t)}finally{h.f()}}}catch(t){l.e(t)}finally{l.f()}}}}var j={components:{network:o.a},data:function(){return{baseUrl:"https://nakamura196.github.io/ogawa",loading:!1,nodes:[],edges:[],options:{nodes:{borderWidth:1},edges:{color:"lightgray"}},title:this.$t("network"),nodeList:[],nodeStart:"",nodeEnd:"",nodeEntity:""}},head:function(){return{title:this.title}},watch:{nodeStart:function(){this.drawNetwork()},nodeEnd:function(){this.drawNetwork()},nodeEntity:function(){this.drawNetwork()}},mounted:function(){this.getFactList(),this.drawNetwork()},methods:{onNodeSelected:function(t){var e=t.nodes;if(e.length>0){var n=e[0];(n.includes("pers_")||n.includes("place_"))&&(this.nodeEntity=n)}},drawNetwork:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,h,link,y,j,x,O,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,n=t.nodeEntity,r="\n      prefix ex: <https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#>\n      prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n      select * where {\n        ?p a ?type;\n          ex:eventSince ?since;\n          ex:eventUntil ?until .\n        \n        "+(n?"filter (?p = <".concat(n,">) . "):"")+"\n        ?type rdfs:subClassOf ex:EntityInContext . \n      }",e.next=5,t.$axios.get("".concat(d,"?query=").concat(encodeURIComponent(r)));case 5:return o=e.sent.data,c="",l="",n&&1===o.length?(h=o[0],c=h.since,l=h.until):(c=t.nodeStart,l=t.nodeEnd),y="\n      prefix ex: <https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#>\n      prefix ex2: <http://www.example.com/roman-ontology/resource/fact/>\n      select distinct * where {\n         ?startNode ".concat(link="ex:mentionedAsPrecedent","* ?s . \n         filter (?startNode = <")+(c||"http://www.example.com/roman-ontology/resource/fact/fact_2")+">)\n         optional {\n          ?s ex:when ?when_s .\n          SERVICE SILENT <".concat(f,"> {\n            optional { ?when_s ex:begin ?when_s_begin; ex:end ?when_s_end. }\n          }\n         }\n         ?s ").concat(link," ?o .\n         optional {\n           ?o ex:when ?when_o .\n           SERVICE SILENT <").concat(f,"> {\n            optional { ?when_o ex:begin ?when_o_begin; ex:end ?when_o_end. }\n           }\n         }\n         ?o ").concat(link,"* ?endNode .\n         filter (?endNode = <")+(l||"http://www.example.com/roman-ontology/resource/fact/fact_14")+">)\n      }",e.next=13,t.$axios.get("".concat(d,"?query=").concat(encodeURIComponent(y)));case 13:j=e.sent.data,console.log({data4Entity:o,data4Fact:j}),v(S=[],x=[],j,O={}),w(S,x,o,O),m(O),t.nodes=S,t.edges=x,t.loading=!1;case 24:case"end":return e.stop()}}),e)})))()},getFactList:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,l,f,data,v,y,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"\n      prefix ex: <https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#>\n      select distinct * where {\n         ?s ex:mentionedAsPrecedent ?o\n      }",e.next=3,t.$axios.get("".concat(d,"?query=").concat(encodeURIComponent("\n      prefix ex: <https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#>\n      select distinct * where {\n         ?s ex:mentionedAsPrecedent ?o\n      }")));case 3:n=e.sent.data,r=[{text:"",value:""}],o=[],l=c(n);try{for(l.s();!(f=l.n()).done;)for(data=f.value,v=0,y=["s","o"];v<y.length;v++)w=data[y[v]],o.includes(w)||(r.push({text:h(w),value:w}),o.push(w))}catch(t){l.e(t)}finally{l.f()}t.nodeList=r;case 9:case"end":return e.stop()}}),e)})))()}}},x=(n(438),n(92)),O=n(123),S=n.n(O),_=(n(9),n(13),n(14),n(2)),C=(n(28),n(8),n(62),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(7),n(72),n(421),n(0)),k=n(103),E=n(1);function N(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function P(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?N(Object(source),!0).forEach((function(e){Object(_.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):N(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var R=["sm","md","lg","xl"],F=R.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),D=R.reduce((function(t,e){return t["offset"+Object(E.D)(e)]={type:[String,Number],default:null},t}),{}),I=R.reduce((function(t,e){return t["order"+Object(E.D)(e)]={type:[String,Number],default:null},t}),{}),L={col:Object.keys(F),offset:Object.keys(D),order:Object.keys(I)};function A(t,e,n){var r=t;if(null!=n&&!1!==n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return"col"!==t||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}}var U=new Map,V=C.a.extend({name:"v-col",functional:!0,props:P(P(P(P({cols:{type:[Boolean,String,Number],default:!1}},F),{},{offset:{type:[String,Number],default:null}},D),{},{order:{type:[String,Number],default:null}},I),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n=e.props,data=e.data,r=e.children,o=(e.parent,"");for(var c in n)o+=String(n[c]);var l=U.get(o);return l||function(){var t,e;for(e in l=[],L)L[e].forEach((function(t){var r=n[t],o=A(e,t,r);o&&l.push(o)}));var r=l.some((function(t){return t.startsWith("col-")}));l.push((t={col:!r||!n.cols},Object(_.a)(t,"col-".concat(n.cols),n.cols),Object(_.a)(t,"offset-".concat(n.offset),n.offset),Object(_.a)(t,"order-".concat(n.order),n.order),Object(_.a)(t,"align-self-".concat(n.alignSelf),n.alignSelf),t)),U.set(o,l)}(),t(n.tag,Object(k.a)(data,{class:l}),r)}}),$=n(494);function B(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function M(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?B(Object(source),!0).forEach((function(e){Object(_.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):B(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var T=["sm","md","lg","xl"],G=["start","end","center"];function J(t,e){return T.reduce((function(n,r){return n[t+Object(E.D)(r)]=e(),n}),{})}var W=function(t){return[].concat(G,["baseline","stretch"]).includes(t)},z=J("align",(function(){return{type:String,default:null,validator:W}})),H=function(t){return[].concat(G,["space-between","space-around"]).includes(t)},K=J("justify",(function(){return{type:String,default:null,validator:H}})),Q=function(t){return[].concat(G,["space-between","space-around","stretch"]).includes(t)},X=J("alignContent",(function(){return{type:String,default:null,validator:Q}})),Y={align:Object.keys(z),justify:Object.keys(K),alignContent:Object.keys(X)},Z={align:"align",justify:"justify",alignContent:"align-content"};function tt(t,e,n){var r=Z[t];if(null!=n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return(r+="-".concat(n)).toLowerCase()}}var et=new Map,nt=C.a.extend({name:"v-row",functional:!0,props:M(M(M({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:W}},z),{},{justify:{type:String,default:null,validator:H}},K),{},{alignContent:{type:String,default:null,validator:Q}},X),render:function(t,e){var n=e.props,data=e.data,r=e.children,o="";for(var c in n)o+=String(n[c]);var l=et.get(o);return l||function(){var t,e;for(e in l=[],Y)Y[e].forEach((function(t){var r=n[t],o=tt(e,t,r);o&&l.push(o)}));l.push((t={"no-gutters":n.noGutters,"row--dense":n.dense},Object(_.a)(t,"align-".concat(n.align),n.align),Object(_.a)(t,"justify-".concat(n.justify),n.justify),Object(_.a)(t,"align-content-".concat(n.alignContent),n.alignContent),t)),et.set(o,l)}(),t(n.tag,Object(k.a)(data,{staticClass:"row",class:l}),r)}}),ot=n(429),component=Object(x.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("h2",[t._v(t._s(t.title))]),t._v(" "),n("v-row",{staticClass:"mt-2",attrs:{align:"center"}},[n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[n("v-select",{attrs:{items:t.nodeList,label:"始点",filled:"",rounded:"",dense:""},model:{value:t.nodeStart,callback:function(e){t.nodeStart=e},expression:"nodeStart"}})],1),t._v(" "),n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[n("v-select",{attrs:{items:t.nodeList,label:"終点",filled:"",rounded:"",dense:""},model:{value:t.nodeEnd,callback:function(e){t.nodeEnd=e},expression:"nodeEnd"}})],1)],1),t._v(" "),n("network",{ref:"network",staticClass:"mt-5",staticStyle:{width:"100%",height:"650px"},attrs:{id:"mynetwork",nodes:t.nodes,edges:t.edges,options:t.options},on:{click:t.onNodeSelected}})],1)}),[],!1,null,null,null);e.default=component.exports;S()(component,{VCol:V,VContainer:$.a,VRow:nt,VSelect:ot.a})}}]);