(window.webpackJsonp=window.webpackJsonp||[]).push([[16,10],{461:function(e,t,n){"use strict";n.r(t);n(19),n(45),n(33),n(5),n(46),n(48),n(34);var o=n(18),r=(n(70),n(35),n(25),n(39),n(26),n(57),n(462));function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){d=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw r}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var d=function e(t,n){var o=[];if(t.length<n)return[];if(1===n)for(var i=0;i<t.length;i++)o[i]=[t[i]];else for(var r=0;r<t.length-n+1;r++)for(var l=e(t.slice(r+1),n-1),c=0;c<l.length;c++)o.push([t[r]].concat(l[c]));return o},f={components:{network:r.a},props:{item:{type:Object,require:!0,default:function(){}}},data:function(){return{nodes:[],nodesMap:{},edges:[],options:{nodes:{borderWidth:1},edges:{color:"lightgray"}}}},computed:{},mounted:function(){this.getRelations()},methods:{getRelations:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o,r,c,data,f,y,h,m,x,w,v,C,R,_,j,I,F,k,O,E,S,P,A,$,M,N,T,U,W,J,B,D,H,L;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.item,"https://dydra.com/junjun7613/romanfactoid_v2/sparql",o="prefix ex: <https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#>\n      SELECT DISTINCT *\n      WHERE {\n        ?entityReference ex:referencesEntityInContext ?entityInContext .\n        filter (?entityInContext = <".concat(n.s,">) .\n        ?factoid ?hasReference ?entityReference .\n        ?hasReference rdfs:subPropertyOf* ?propertyClass .\n        filter (?propertyClass = ex:sceneObjectProperty || ?propertyClass = ex:sceneProperty).\n        ?factoid ?hasReference2 ?entityReference2 .\n        filter (?entityReference != ?entityReference2)\n        ?hasReference2 rdfs:subPropertyOf* ?propertyClass .\n        ?entityReference2 ex:referencesEntity ?entity; rdf:type ?typeOfEntityReference .\n        optional { ?entityReference2 ex:referencesEntityInContext ?entityInContext2 . ?entityInContext2 rdf:type ?typeOfEntityInContext }\n        ?entity ex:name ?name .\n      }"),r="".concat("https://dydra.com/junjun7613/romanfactoid_v2/sparql","?query=").concat(encodeURIComponent(o)),t.next=6,e.$axios.get(r);case 6:c=t.sent,data=c.data,f={},(y={})[n.s]=n,h={},m={},x=l(data);try{for(x.s();!(w=x.n()).done;)v=w.value,C=v.factoid,f[C]||(f[C]=[n.s]),R=f[C],_=v.entityInContext2||v.entity,R.includes(_)||R.push(_),y[_]=v,v.entityInContext2&&(j=v.entityInContext2+" - "+v.entity,h[j]||(h[j]={from:v.entityInContext2,to:v.entity}),m[v.entity]||(m[v.entity]={id:v.entity,label:v.name,color:"green",shape:"diamond"}))}catch(e){x.e(e)}finally{x.f()}for(I in f){F=f[I],k=d(F,2),O=l(k);try{for(O.s();!(E=O.n()).done;){S=E.value,P=S[0]+"-"+S[1],h[P]||(h[P]={from:S[0],to:S[1],value:0}),h[P].value+=1,A=l(S);try{for(A.s();!($=A.n()).done;)M=$.value,N=null,T=null,U=null,W=y[M].typeOfEntityReference,J=y[M].typeOfEntityInContext,["https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#ConceptualObjectReference","https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#PhysicalObjectReference"].includes(W)?(N="yellow",T="diamond"):["https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#CommunityInContext"].includes(J)?(N="red",T="square",U=J):["https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#PersonInContext"].includes(J)&&(U=J),m[M]||(m[M]={id:M,label:y[M].name,color:N,shape:T,type:U})}catch(e){A.e(e)}finally{A.f()}}}catch(e){O.e(e)}finally{O.f()}}for(H in B=[],D=[],m)B.push(m[H]);for(L in h)D.push(h[L]);e.nodes=B,e.edges=D,e.nodesMap=m,e.relations=data;case 24:case"end":return t.stop()}}),t)})))()},onNodeSelected:function(e){var t=e.nodes;if(t.length>0){var n=t[0],o=this.nodesMap[n];if("https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#CommunityInContext"===o.type)alert("今後対応予定");else if("https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#PersonInContext"===o.type){var r=this.$utils.getIdFromUri(n);this.$router.push(this.localePath({name:"pers-id",params:{id:r}}))}}}}},y=n(96),component=Object(y.a)(f,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("network",{ref:"network",staticClass:"mt-5",staticStyle:{width:"100%",height:"650px","background-color":"lightyellow"},attrs:{id:"mynetwork",nodes:e.nodes,edges:e.edges,options:e.options},on:{click:e.onNodeSelected}})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Network:n(461).default})},482:function(e,t,n){var content=n(519);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(22).default)("bed1badc",content,!0,{sourceMap:!1})},518:function(e,t,n){"use strict";n(482)},519:function(e,t,n){var o=n(21)(!1);o.push([e.i,"#mynetwork{border:1px solid #d3d3d3}",""]),e.exports=o},558:function(e,t,n){"use strict";n.r(t);var o={components:{network:n(462).a},data:function(){return{baseUrl:"https://nakamura196.github.io/ogawa",loading:!1,nodes:[],edges:[],options:{nodes:{borderWidth:1},edges:{color:"lightgray"}},title:this.$t("network_static")}},head:function(){return{title:this.title}},mounted:function(){this.init()},methods:{init:function(){this.nodes=[{id:"t1",label:"B.C. 58年",x:0,y:-125,color:"#4CAF50",physics:!1,shape:"box"},{id:"e1",label:"ガリア戦争開始",x:0,y:0,color:"#F44336",fixed:!0,physics:!1,shape:"box"},{id:"e2",label:"ルビコン",x:250,y:0,color:"#F44336",fixed:!0,physics:!1,shape:"box"},{id:"e3",label:"カエサル暗殺",x:500,y:0,color:"#F44336",fixed:!0,physics:!1,shape:"box"},{id:"p1",widthConstraint:{maximum:170},label:"ガリア戦争期のカエサル",x:125,y:125,color:"#2196F3",physics:!1,shape:"box"},{id:"p2",widthConstraint:{maximum:170},label:"内戦期のカエサル",x:375,y:125,physics:!1,color:"#2196F3",shape:"box"}],this.edges=[{from:"e1",to:"t1",arrows:{to:{enabled:!0}}},{from:"e1",to:"e2",arrows:{to:{enabled:!0}}},{from:"e2",to:"e3",arrows:{to:{enabled:!0}}},{from:"p1",to:"e1",arrows:{to:{enabled:!0}}},{from:"p1",to:"e2",arrows:{to:{enabled:!0}}},{from:"p2",to:"e2",arrows:{to:{enabled:!0}}},{from:"p2",to:"e3",arrows:{to:{enabled:!0}}}],this.loading=!1}}},r=(n(518),n(96)),l=n(129),c=n.n(l),d=n(455),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("h2",[e._v(e._s(e.title))]),e._v(" "),n("network",{ref:"network",staticClass:"mt-5",staticStyle:{width:"100%",height:"650px"},attrs:{id:"mynetwork",nodes:e.nodes,edges:e.edges,options:e.options},on:{click:e.onNodeSelected}})],1)}),[],!1,null,null,null);t.default=component.exports;c()(component,{Network:n(461).default}),c()(component,{VContainer:d.a})}}]);