(window.webpackJsonp=window.webpackJsonp||[]).push([[15,10],{466:function(e,t,n){"use strict";n.r(t);n(18),n(40),n(32),n(5),n(41),n(47),n(33);var r=n(19),o=(n(70),n(34),n(26),n(38),n(25),n(49),n(471));function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var d=function e(t,n){var r=[];if(t.length<n)return[];if(1===n)for(var i=0;i<t.length;i++)r[i]=[t[i]];else for(var o=0;o<t.length-n+1;o++)for(var c=e(t.slice(o+1),n-1),l=0;l<c.length;l++)r.push([t[o]].concat(c[l]));return r},f={components:{network:o.a},props:{item:{type:Object,require:!0,default:function(){}}},data:function(){return{nodes:[],nodesMap:{},edges:[],options:{nodes:{borderWidth:1},edges:{color:"lightgray"}},contexts:{},dialog:!1,selectedContexts:{}}},computed:{},mounted:function(){this.getRelations()},methods:{getRelations:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,l,data,f,h,m,y,v,x,_,w,j,C,R,E,k,O,F,I,P,S,N,U,A,L,M,T,$,V,B,W,z,X,D;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.item,"https://dydra.com/junjun7613/romanfactoid_v2/sparql",r="prefix ex: <https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#>\n      SELECT DISTINCT *\n      WHERE {\n        ?entityReference ex:referencesEntityInContext ?entityInContext; ex:referencesEntity/rdf:type ?typeOfEntity . \n        filter (?entityInContext = <".concat(n.s,">) .\n        ?factoid ?hasReference ?entityReference .\n        ?hasReference rdfs:subPropertyOf* ?propertyClass .\n        filter (?propertyClass = ex:sceneObjectProperty || ?propertyClass = ex:sceneProperty).\n        ?factoid ?hasReference2 ?entityReference2 .\n        filter (?entityReference != ?entityReference2)\n        ?hasReference2 rdfs:subPropertyOf* ?propertyClass .\n        ?entityReference2 ex:referencesEntity ?entity; rdf:type ?typeOfEntityReference .\n        optional { \n          ?entityReference2 ex:referencesEntityInContext ?entityInContext2 . \n          ?entityInContext2 rdf:type ?typeOfEntityInContext; ex:sourceDescription ?descriptionOfEntityInContext2 }\n        ?entity ex:name ?name; rdf:type ?typeOfEntity2 . \n      }"),o="".concat("https://dydra.com/junjun7613/romanfactoid_v2/sparql","?query=").concat(encodeURIComponent(r)),t.next=6,e.$axios.get(o);case 6:l=t.sent,data=l.data,f={},(h={})[n.s]=n,m={},y={},v={},e.contexts=v,x=c(data);try{for(x.s();!(_=x.n()).done;)w=_.value,j=w.factoid,f[j]||(f[j]=[n.s]),C=f[j],R=w.entity,C.includes(R)||C.push(R),h[R]=w,w.entityInContext2&&(E=w.entityInContext2,v[R]||(v[R]={}),v[R][E]=w)}catch(e){x.e(e)}finally{x.f()}for(k in f){O=f[k],F=d(O,2),I=c(F);try{for(I.s();!(P=I.n()).done;){S=P.value,N=S[0]+"-"+S[1],m[N]||(m[N]={from:S[0],to:S[1],value:0}),m[N].value+=1,U=c(S);try{for(U.s();!(A=U.n()).done;)L=A.value,M=null,T=null,$=null,V=h[L].typeOfEntityReference,B="",B=L===n.s?h[L].typeOfEntity:h[L].typeOfEntity2,["https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#ConceptualObjectReference","https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#PhysicalObjectReference"].includes(V)?(M="yellow",T="diamond"):["https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#Community"].includes(B)?(M="red",T="square",$=B):["https://github.com/johnBradley501/FPO/raw/master/fpo.owl#Person"].includes(B)?$=B:["https://github.com/johnBradley501/FPO/raw/master/fpo.owl#Location"].includes(B)?(M="#98fb98",$=B):["https://github.com/johnBradley501/FPO/raw/master/fpo.owl#Group"].includes(B)&&(M="orange",$=B),y[L]||(y[L]={id:L,label:h[L].name,color:M,shape:T,type:$})}catch(e){U.e(e)}finally{U.f()}}}catch(e){I.e(e)}finally{I.f()}}for(X in W=[],z=[],y)W.push(y[X]);for(D in m)z.push(m[D]);e.nodes=W,e.edges=z,e.nodesMap=y,e.relations=data;case 26:case"end":return t.stop()}}),t)})))()},onNodeSelected:function(e){var t=e.nodes;if(t.length>0){var n=t[0],r=this.nodesMap[n];["https://github.com/johnBradley501/FPO/raw/master/fpo.owl#Person","https://github.com/johnBradley501/FPO/raw/master/fpo.owl#Location","https://github.com/johnBradley501/FPO/raw/master/fpo.owl#Group","https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#Community"].includes(r.type)&&(this.dialog=!0,this.selectedContexts=this.contexts[r.id])}}}},h=n(96),m=n(130),y=n.n(m),v=n(217),x=n(465),_=n(464),w=n(486),j=n(487),component=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("network",{ref:"network",staticClass:"mt-5",staticStyle:{width:"100%",height:"650px","background-color":"lightyellow"},attrs:{id:"mynetwork",nodes:e.nodes,edges:e.edges,options:e.options},on:{click:e.onNodeSelected}}),e._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v(" Contexts ")]),e._v(" "),n("v-card-text",[n("ul",e._l(e.selectedContexts,(function(t,r){return n("li",{key:r,staticClass:"mt-4"},[n("nuxt-link",{attrs:{to:e.localePath({name:"entity-id",params:{id:e.$utils.getIdFromUri(r)}})}},[e._v(e._s(t.descriptionOfEntityInContext2))])],1)})),0)]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n          Close\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;y()(component,{Network:n(466).default}),y()(component,{VBtn:v.a,VCard:x.a,VCardActions:_.a,VCardText:_.b,VCardTitle:_.c,VDialog:w.a,VSpacer:j.a})},488:function(e,t,n){"use strict";n.r(t);n(91);var r=n(29),o=n(51),c=n(44),l=n(30),d=n(17),f=(n(15),n(482));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var m=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},y=function(e){Object(o.a)(n,e);var t=h(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(f.Vue);m([Object(f.Prop)({required:!0})],y.prototype,"items",void 0);var v=y=m([Object(f.Component)({components:{}})],y),x=n(96),_=n(130),w=n.n(_),j=n(502),C=n(459),R=n(194),E=n(62),component=Object(x.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{attrs:{color:"grey lighten-2"}},[n("v-container",{staticClass:"py-2",attrs:{fluid:""}},[n("v-breadcrumbs",{staticClass:"py-0 mx-0 px-0",attrs:{items:e.items},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports;w()(component,{VBreadcrumbs:j.a,VContainer:C.a,VIcon:R.a,VSheet:E.a})},492:function(e,t,n){"use strict";n.r(t);n(26);var r={props:{markers:{type:Array,require:!1,default:function(){return[]}},center:{type:Array,require:!1,default:function(){return[51.505,-.159]}},geojson:{type:Object,require:!1,default:function(){return null}}},data:function(){return{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:5}},computed:{options:function(){return{onEachFeature:this.onEachFeatureFunction}},onEachFeatureFunction:function(){return function(e,t){t.bindPopup('<div><a @click="search('.concat(e.properties.uri,')">').concat(e.properties.label,"</a></div>"))}}}},o=n(96),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("l-map",{staticStyle:{"z-index":"0",height:"600px",width:"100%"},attrs:{zoom:e.zoom,center:e.center}},[n("l-tile-layer",{attrs:{url:e.url,attribution:e.attribution}}),e._v(" "),e.geojson&&Object.keys(e.geojson).length>0?n("l-geo-json",{attrs:{geojson:e.geojson,options:e.options}}):e._e(),e._v(" "),e._l(e.markers,(function(marker,t){return n("l-marker",{key:t,attrs:{"lat-lng":marker.latLng}},[n("l-popup",[n("a",[e._v(e._s(marker.label))])])],1)}))],2)],1)}),[],!1,null,null,null);t.default=component.exports},631:function(e,t,n){"use strict";n.r(t);n(34),n(18),n(25),n(40),n(32),n(5),n(41),n(47),n(33);var r=n(19),o=(n(70),n(26),n(76),n(38),n(212),n(49),n(27),n(65),n(123)),c=n.n(o),l=n(471),d=n(488);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var m={components:{Breadcrumbs:d.default,network:l.a},asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l,d,i,f,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.$axios,t.next=3,n.id;case 3:return o=t.sent,c="\n      prefix fpo: <https://github.com/johnBradley501/FPO/raw/master/fpo.owl#>\n      prefix owl: <http://www.w3.org/2002/07/owl#>\n      prefix ex: <https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#>\n      select distinct * where {\n          ?s ex:description ?description .\n          filter (?s = <".concat("http://www.example.com/roman-ontology/resource/Factoid/"+o,"> ) .\n\n          optional {\n            { ?s ex:atWhere/ex:referencesEntity/owl:sameAs ?placeUri . }\n            UNION\n            { ?s ex:fromWhere/ex:referencesEntity/owl:sameAs ?placeUri . }\n            UNION\n            { ?s ex:toWhere/ex:referencesEntity/owl:sameAs ?placeUri . }\n            UNION\n            { ?s ex:nearWhere/ex:referencesEntity/owl:sameAs ?placeUri . }\n          }\n      }"),t.next=8,r.get("".concat("https://dydra.com/junjun7613/romanfactoid_v3/sparql","?query=").concat(encodeURIComponent(c)));case 8:for(l=t.sent.data,d={},i=0;i<l.length;i++){if(f=l[i],0===i){for(h in f)d[h]=f[h];d.placeUri=[]}d.placeUri.push(f.placeUri)}return t.abrupt("return",{id:o,item:d});case 12:case"end":return t.stop()}}),t)})))()},data:function(){return{xml:"",geo:{},markers:[],center:[51.505,-.159],geojson:null,orgNodes:[],orgEdges:[],nodes:[],edges:[],nodesMap:{},sortMethod:"directed",hierarchical:!1,physicsEnabled:!0,isLemma:!0}},computed:{bh:function(){return[{text:this.$t("top"),disabled:!1,to:this.localePath({name:"index"}),exact:!0},{text:this.$t("search"),disabled:!1,to:this.localePath({name:"search"}),exact:!0},{text:this.getTitle(this.id)}]},options:function(){var e=!1;return this.hierarchical&&(e={sortMethod:this.sortMethod}),{edges:{length:400},layout:{randomSeed:2,hierarchical:e},physics:{enabled:this.physicsEnabled}}}},watch:{isLemma:function(){this.drawNetwork()}},mounted:function(){this.getPlaceInfo(),this.getRelatedFactoids()},methods:{getCTS:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.item.ctsURI,t.prev=1,t.next=4,c.a.get(n);case 4:r=t.sent,data=r.data,e.xml=data,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log({e:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getPlaceInfo:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l,d,h,m,y,data,v,x,_,w,j,C,marker,R;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.item,r=[],o=f(n.placeUri);try{for(o.s();!(c=o.n()).done;)l=c.value,r.push("?placeUri = <".concat(l,">"))}catch(e){o.e(e)}finally{o.f()}return d=r.join(" || "),"https://triplydb.com/_api/datasets/wouter/pleiades/services/pleiades/sparql",h="PREFIX geo: <http://www.opengis.net/ont/geosparql#>\n      PREFIX dct: <http://purl.org/dc/terms/>\n      PREFIX wgs84: <http://www.w3.org/2003/01/geo/wgs84_pos#>\n\n      PREFIX pleiades: <https://pleiades.stoa.org/places/vocab#>\n      PREFIX osspatial: <http://data.ordnancesurvey.co.uk/ontology/spatialrelations/>\n      PREFIX osgeo: <http://data.ordnancesurvey.co.uk/ontology/geometry/>\n\n      SELECT * WHERE {\n        ?placeUri dct:title ?title .\n        optional {\n          { ?placeUri wgs84:lat ?lat; wgs84:long ?long . }\n          UNION\n          { ?placeUri pleiades:hasLocation/osspatial:partiallyOverlaps/geo:hasGeometry/osgeo:asGeoJSON ?geo }\n        }\n        filter(".concat(d,")\n      }"),m="".concat("https://triplydb.com/_api/datasets/wouter/pleiades/services/pleiades/sparql","?query=").concat(encodeURIComponent(h)),t.next=10,e.$axios.get(m);case 10:if(y=t.sent,(data=y.data).length>0){v=[],x=[],_=[],w=f(data);try{for(w.s();!(j=w.n()).done;)(C=j.value).lat?(marker={latLng:[C.lat,C.long],label:C.title},x.push(marker),_=[C.lat,C.long]):v.push({type:"Feature",geometry:JSON.parse(C.geo),properties:{label:C.title,uri:C.placeUri}})}catch(e){w.e(e)}finally{w.f()}v.length>0&&(R={type:"FeatureCollection",features:v},e.geojson=R),x.length>0&&(e.markers=x,e.center=_)}case 13:case"end":return t.stop()}}),t)})))()},getRelatedFactoids:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,data,l,d,h,m,y,v,x,_,w,j,C,R,i,E,k,O,F,I,P,S,N,U,A;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.item,"https://dydra.com/junjun7613/romanfactoid_v3/sparql",r="prefix ex: <https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#>\n      prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n      SELECT * WHERE {\n        ?s ex:description ?desc_s .\n        optional {\n          ?s ?related_so ?s_o .\n          {\n            ?s_o ex:referencesEntityInContext ?entityInContext_s; ex:referencesEntity ?referencesEntity_s .\n          }\n          UNION\n          {\n            ?s_o ex:referencesEntity ?referencesEntity_s .\n          }\n          ?referencesEntity_s ex:name ?referencesEntityName_s; rdf:type ?referencesEntityType_s\n        }\n        optional {\n          ?s ?p ?o .\n          ?o a/rdfs:subClassOf* ex:Factoid .\n          ?o ex:description ?desc_o .\n          optional {\n            ?o ?related_oo ?o_o .\n            {\n              ?o_o ex:referencesEntityInContext ?entityInContext_o; ex:referencesEntity ?referencesEntity_o .\n            }\n            UNION\n            {\n              ?o_o ex:referencesEntity ?referencesEntity_o .\n            }\n            ?referencesEntity_o ex:name ?referencesEntityName_o; rdf:type ?referencesEntityType_o\n          }\n        }\n        filter (?s = <".concat(n.s,"> || ?o = <").concat(n.s,">)\n      }"),o="".concat("https://dydra.com/junjun7613/romanfactoid_v3/sparql","?query=").concat(encodeURIComponent(r)),t.next=6,e.$axios.get(o);case 6:c=t.sent,data=c.data,l={},d={},h=f(data),t.prev=11,h.s();case 13:if((m=h.n()).done){t.next=59;break}y=m.value,v=0,x=["s","o"];case 17:if(!(v<x.length)){t.next=56;break}if(_=x[v],w=y["referencesEntity_".concat(_)]){t.next=22;break}return t.abrupt("continue",53);case 22:for(j=y[_],C=y["desc_".concat(_)],R=[],20,i=0;i<C.length/20;i++)R.push(C.substr(20*i,20));if(l[j]||(l[j]={id:j,label:R.join("\n"),shape:"box",color:{background:"white"},type:"factoid"}),l[w]){t.next=49;break}E=null,k=null,O=y["referencesEntityType_".concat(_)],t.t0=O,t.next="https://github.com/johnBradley501/FPO/raw/master/fpo.owl#Location"===t.t0?35:"https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#Community"===t.t0?37:"https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#ConceptualObject"===t.t0?40:"https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#PhysicalObject"===t.t0?43:"https://github.com/johnBradley501/FPO/raw/master/fpo.owl#Group"===t.t0?46:48;break;case 35:return E="#98fb98",t.abrupt("break",48);case 37:return E="red",k="square",t.abrupt("break",48);case 40:case 43:return E="yellow",k="diamond",t.abrupt("break",48);case 46:return E="orange",t.abrupt("break",48);case 48:l[w]={id:w,label:y["referencesEntityName_".concat(_)],color:E,shape:k,type:O};case 49:!(F=l[w]).context&&y["entityInContext_".concat(_)]&&(F.context=y["entityInContext_".concat(_)]),I="".concat(j,"-").concat(w),d[I]={from:j,to:w,arrows:"to",color:"gray"};case 53:v++,t.next=17;break;case 56:y.p&&!["https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#mentionedAsFollow"].includes(y.p)&&(d["".concat(y.s,"-").concat(y.o)]={from:y.s,to:y.o,label:e.$utils.getIdFromUri(y.p,"#"),arrows:"to",color:"gray"});case 57:t.next=13;break;case 59:t.next=64;break;case 61:t.prev=61,t.t1=t.catch(11),h.e(t.t1);case 64:return t.prev=64,h.f(),t.finish(64);case 67:return t.next=69,e.getAssociatedObjects(l,d);case 69:for(N in P=t.sent,l=P.nodesMap,d=P.edgesMap,S=[],l)S.push(l[N]);for(A in U=[],d)U.push(d[A]);e.orgEdges=U,e.orgNodes=S,e.nodesMap=l,e.drawNetwork();case 80:case"end":return t.stop()}}),t,null,[[11,61,64,67]])})))()},drawNetwork:function(){var e,t=this.orgEdges,n=this.orgNodes,r=[],o=[],c=[],l=this.isLemma,d=f(n);try{for(d.s();!(e=d.n()).done;){var h=e.value;(l||"lemma"!==h.type)&&(r.push(h),c.push(h.id))}}catch(e){d.e(e)}finally{d.f()}var m,y=f(t);try{for(y.s();!(m=y.n()).done;){var v=m.value,x=v.from,_=v.to;c.includes(x)&&c.includes(_)&&o.push(v)}}catch(e){y.e(e)}finally{y.f()}this.nodes=r,this.edges=o},getAssociatedObjects:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,filter,l,d,h,data,m,y,v,x,_,w,j,C,R,E,label;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(c in o=[],e)"factoid"===e[c].type&&o.push("?s = <".concat(c,">"));return filter=o.join(" || "),"https://dydra.com/junjun7613/romanfactoid_v3/sparql",l="prefix ex: <https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#>\n      prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n      SELECT * WHERE {\n        ?s ex:associatedObject ?ao . ?ao ex:hasLemma/ex:referencesLemma ?lemma .\n        filter (".concat(filter,")\n        SERVICE SILENT <https://dydra.com/i2k/lemmabank/sparql> {\n          ?lemma rdfs:label ?label .\n        }\n      }"),d="".concat("https://dydra.com/junjun7613/romanfactoid_v3/sparql","?query=").concat(encodeURIComponent(l)),r.next=8,n.$axios.get(d);case 8:h=r.sent,data=h.data,m={},y=f(data);try{for(y.s();!(v=y.n()).done;)x=v.value,_=x.label,w=x.ao,j=x.s,m[j]||(m[j]={}),m[j][w]||(m[j][w]=[]),m[j][w].includes(_)||m[j][w].push(_)}catch(e){y.e(e)}finally{y.f()}for(C in m)for(R in m[C])(E=m[C][R]).sort(),label=E.join(" / "),e[label]||(e[label]={id:label,label:label,color:"pink",shape:"box",type:"lemma"}),t["".concat(C,"-").concat(label)]={from:C,to:label,arrows:"to",color:"gray"};return r.abrupt("return",{nodesMap:e,edgesMap:t});case 15:case"end":return r.stop()}}),r)})))()},onNodeSelected:function(e){var t=e.nodes;if(t.length>0){var n=t[0],r=this.nodesMap[n];if("factoid"===r.type)this.$router.push(this.localePath({name:"item-id",params:{id:this.$utils.getIdFromUri(r.id).replace("fact_","")}}));else{if(!r.context)return void alert("contextがありません。");this.$router.push(this.localePath({name:"entity-id",params:{id:this.$utils.getIdFromUri(r.context)}}))}}},getTitle:function(e){return e.replace("f_","Fact ")}}},y=m,v=n(96),x=n(130),_=n.n(x),w=n(217),j=n(459),C=n(493),R=n(634),component=Object(v.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Breadcrumbs",{attrs:{items:e.bh}}),e._v(" "),n("v-container",{staticClass:"my-5"},[n("h2",[e._v(e._s(e.item.description)+" ("+e._s(e.getTitle(e.id))+")")]),e._v(" "),e.xml?[n("h3",{staticClass:"mt-5"},[e._v("このFactoidの典拠")]),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.xml)}})]:e._e(),e._v(" "),n("hr",{staticClass:"my-10"}),e._v(" "),e.markers.length>0||e.geojson?n("Map",{attrs:{markers:e.markers,center:e.center,geojson:e.geojson}}):e._e(),e._v(" "),n("div",{staticClass:"my-4"},[n("v-switch",{attrs:{label:"Lemma"},model:{value:e.isLemma,callback:function(t){e.isLemma=t},expression:"isLemma"}})],1),e._v(" "),n("network",{ref:"network",staticClass:"mt-5",staticStyle:{width:"100%",height:"650px","background-color":"lightyellow"},attrs:{id:"mynetwork",nodes:e.nodes,edges:e.edges,options:e.options},on:{click:e.onNodeSelected}}),e._v(" "),n("div",{staticClass:"mt-4"},[n("v-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:function(t){e.hierarchical=!1}}},[e._v("hierarchicalを使用しない")]),e._v(" "),n("v-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:function(t){e.hierarchical=!0}}},[e._v("hierarchicalを使用する")]),e._v(" "),n("v-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:function(t){e.sortMethod="directed"}}},[e._v("directed")]),e._v(" "),n("v-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:function(t){e.sortMethod="hubsize"}}},[e._v("hubsize")]),e._v(" "),n("v-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:function(t){e.physicsEnabled=!0}}},[e._v("physicsを使用する")]),e._v(" "),n("v-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:function(t){e.physicsEnabled=!1}}},[e._v("physicsを使用しない")])],1),e._v(" "),n("hr",{staticClass:"mt-10"}),e._v(" "),n("h1",{staticClass:"mt-10"},[e._v("以下はメモ")]),e._v("\n\n    "+e._s(e.item)+"\n\n    "),e._e()],2)],1)}),[],!1,null,null,null);t.default=component.exports;_()(component,{Map:n(492).default,Network:n(466).default}),_()(component,{VBtn:w.a,VContainer:j.a,VSimpleTable:C.a,VSwitch:R.a})}}]);