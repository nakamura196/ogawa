(window.webpackJsonp=window.webpackJsonp||[]).push([[14,10],{461:function(t,e,n){"use strict";n.r(e);n(19),n(45),n(33),n(5),n(46),n(48),n(34);var o=n(18),r=(n(70),n(35),n(25),n(39),n(26),n(57),n(462));function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,f=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){f=!0,r=t},f:function(){try{c||null==n.return||n.return()}finally{if(f)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var f=function t(e,n){var o=[];if(e.length<n)return[];if(1===n)for(var i=0;i<e.length;i++)o[i]=[e[i]];else for(var r=0;r<e.length-n+1;r++)for(var c=t(e.slice(r+1),n-1),l=0;l<c.length;l++)o.push([e[r]].concat(c[l]));return o},d={components:{network:r.a},props:{item:{type:Object,require:!0,default:function(){}}},data:function(){return{nodes:[],nodesMap:{},edges:[],options:{nodes:{borderWidth:1},edges:{color:"lightgray"}}}},computed:{},mounted:function(){this.getRelations()},methods:{getRelations:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,data,d,y,h,m,v,w,x,_,C,R,j,I,k,F,O,S,E,A,P,$,M,N,U,T,V,W,J,B,D,H;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,"https://dydra.com/junjun7613/romanfactoid_v2/sparql",o="prefix ex: <https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#>\n      SELECT DISTINCT *\n      WHERE {\n        ?entityReference ex:referencesEntityInContext ?entityInContext .\n        filter (?entityInContext = <".concat(n.s,">) .\n        ?factoid ?hasReference ?entityReference .\n        ?hasReference rdfs:subPropertyOf* ?propertyClass .\n        filter (?propertyClass = ex:sceneObjectProperty || ?propertyClass = ex:sceneProperty).\n        ?factoid ?hasReference2 ?entityReference2 .\n        filter (?entityReference != ?entityReference2)\n        ?hasReference2 rdfs:subPropertyOf* ?propertyClass .\n        ?entityReference2 ex:referencesEntity ?entity; rdf:type ?typeOfEntityReference .\n        optional { ?entityReference2 ex:referencesEntityInContext ?entityInContext2 . ?entityInContext2 rdf:type ?typeOfEntityInContext }\n        ?entity ex:name ?name .\n      }"),r="".concat("https://dydra.com/junjun7613/romanfactoid_v2/sparql","?query=").concat(encodeURIComponent(o)),e.next=6,t.$axios.get(r);case 6:l=e.sent,data=l.data,d={},(y={})[n.s]=n,h={},m={},v=c(data);try{for(v.s();!(w=v.n()).done;)x=w.value,_=x.factoid,d[_]||(d[_]=[n.s]),C=d[_],R=x.entityInContext2||x.entity,C.includes(R)||C.push(R),y[R]=x,x.entityInContext2&&(j=x.entityInContext2+" - "+x.entity,h[j]||(h[j]={from:x.entityInContext2,to:x.entity}),m[x.entity]||(m[x.entity]={id:x.entity,label:x.name,color:"green",shape:"diamond"}))}catch(t){v.e(t)}finally{v.f()}for(I in d){k=d[I],F=f(k,2),O=c(F);try{for(O.s();!(S=O.n()).done;){E=S.value,A=E[0]+"-"+E[1],h[A]||(h[A]={from:E[0],to:E[1],value:0}),h[A].value+=1,P=c(E);try{for(P.s();!($=P.n()).done;)M=$.value,N=null,U=null,T=null,V=y[M].typeOfEntityReference,W=y[M].typeOfEntityInContext,["https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#ConceptualObjectReference","https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#PhysicalObjectReference"].includes(V)?(N="yellow",U="diamond"):["https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#CommunityInContext"].includes(W)?(N="red",U="square",T=W):["https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#PersonInContext"].includes(W)&&(T=W),m[M]||(m[M]={id:M,label:y[M].name,color:N,shape:U,type:T})}catch(t){P.e(t)}finally{P.f()}}}catch(t){O.e(t)}finally{O.f()}}for(D in J=[],B=[],m)J.push(m[D]);for(H in h)B.push(h[H]);t.nodes=J,t.edges=B,t.nodesMap=m,t.relations=data;case 24:case"end":return e.stop()}}),e)})))()},onNodeSelected:function(t){var e=t.nodes;if(e.length>0){var n=e[0],o=this.nodesMap[n];if("https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#CommunityInContext"===o.type)alert("今後対応予定");else if("https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#PersonInContext"===o.type){var r=this.$utils.getIdFromUri(n);this.$router.push(this.localePath({name:"pers-id",params:{id:r}}))}}}}},y=n(96),component=Object(y.a)(d,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("network",{ref:"network",staticClass:"mt-5",staticStyle:{width:"100%",height:"650px","background-color":"lightyellow"},attrs:{id:"mynetwork",nodes:t.nodes,edges:t.edges,options:t.options},on:{click:t.onNodeSelected}})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Network:n(461).default})},479:function(t,e,n){var content=n(492);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("0c6abf9a",content,!0,{sourceMap:!1})},491:function(t,e,n){"use strict";n(479)},492:function(t,e,n){var o=n(21)(!1);o.push([t.i,"#mynetwork{border:1px solid #d3d3d3}",""]),t.exports=o},550:function(t,e,n){"use strict";n.r(e);n(35),n(19),n(26),n(45),n(33),n(5),n(46),n(48),n(34);var o=n(18);n(70),n(25),n(27),n(49);function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,f=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){f=!0,r=t},f:function(){try{l||null==n.return||n.return()}finally{if(f)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l={components:{network:n(462).a},data:function(){return{baseUrl:"https://nakamura196.github.io/ogawa",loading:!1,nodes:[],edges:[],options:{nodes:{borderWidth:1},edges:{color:"lightgray"}},title:this.$t("network"),fact:""}},head:function(){return{title:this.title}},watch:{fact:function(){this.updateFact()}},mounted:function(){this.updateFact()},methods:{onNodeSelected:function(t){var e=t.nodes;if(e.length>0){var s=e[0];this.fact=s}},updateFact:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,data,c,l,f,d,y,h,m,label,v,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,"https://dydra.com/junjun7613/romanfactoid_v2/sparql",n=t.fact,o="\n      select * where {\n        ?s <https://junjun7613.github.io/RomanFactoid_v2/Roman_Contextual_Factoid.owl#mentionedAsPrecedent> ?o . \n        ".concat(n?" filter (?s = <".concat(n,"> || ?o = <").concat(n,">) "):"","\n      }"),e.next=6,t.$axios.get("".concat("https://dydra.com/junjun7613/romanfactoid_v2/sparql","?query=").concat(encodeURIComponent(o)));case 6:data=e.sent.data,c={},l=[],f=r(data);try{for(f.s();!(d=f.n()).done;)y=d.value,h=y.s,m=h.split("/"),label=m[m.length-1],c[h]||(c[h]={id:h,label:label,shape:"dot"}),l.push({from:y.s,to:y.o,arrows:{to:{enabled:!0}}})}catch(t){f.e(t)}finally{f.f()}for(s in v=[],c)v.push(c[s]);t.nodes=v,t.edges=l,t.loading=!1;case 16:case"end":return e.stop()}}),e)})))()}}},f=(n(491),n(96)),d=n(129),y=n.n(d),h=n(212),m=n(455),v=n(192),component=Object(f.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("h2",[t._v(t._s(t.title))]),t._v(" "),n("p",{staticClass:"mt-5"},[t._v("ノードをクリックしてください。")]),t._v(" "),n("p",{staticClass:"mb-5"},[t._v("選択済み: "+t._s(t.fact||"None"))]),t._v(" "),n("v-btn",{staticClass:"primary my-5",on:{click:function(e){t.fact=""}}},[t._v("リセット")]),t._v(" "),t.loading?n("div",{staticClass:"pa-10 text-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):t._e(),t._v(" "),n("network",{ref:"network",staticStyle:{width:"100%",height:"500px"},attrs:{id:"mynetwork",nodes:t.nodes,edges:t.edges,options:t.options}})],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{Network:n(461).default}),y()(component,{VBtn:h.a,VContainer:m.a,VProgressCircular:v.a})}}]);